# Default server configuration
#
server {
        listen 8080 default_server;
        listen [::]:8080 default_server;

        root /var/www/html;


#       SSL configuration

         listen                 443 ssl;
    server_name         www.tux.info;
    ssl_certificate     /etc/nginx/ssl/serveur.crt;
    ssl_certificate_key /etc/nginx/ssl/serveur.key;
    ssl_protocols               TLSv1 TLSv1.1 TLSv1.2;
    ssl_ciphers         HIGH:!aNULL:!MD5;
    #...






        # Add index.php to the list if you are using PHP
        index index.html index.htm index.nginx-debian.html;

        server_name _;

        location / {
                        auth_basic "Restricted";
                auth_basic_user_file /var/www/html/.htpasswd;
                satisfy all;

                deny  192.168.1.2;
                allow 192.168.1.0/24;
                allow 10.80.68.142;
                deny  all;
                try_files $uri $uri/ =404;
        }

        # pass PHP scripts to FastCGI server
        #
        #location ~ \.php$ {
        #       include snippets/fastcgi-php.conf;
        #
        #       # With php-fpm (or other unix sockets):
        #       fastcgi_pass unix:/run/php/php7.4-fpm.sock;
        #       # With php-cgi (or other tcp sockets):
        #       fastcgi_pass 127.0.0.1:9000;
        #}

        # deny access to .htaccess files, if Apache's document root
        # concurs with nginx's one
        #
        #location ~ /\.ht {
        #       deny all;
        #}
}


# Virtual Host configuration for example.com
#
# You can move that to a different file under sites-available/ and symlink that
# to sites-enabled/ to enable it.
#
